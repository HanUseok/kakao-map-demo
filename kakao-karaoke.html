function searchNearby(center, kw, radius){
  clearMarkers();
  emitStatus('🔍 검색 중...');
  ps.keywordSearch(kw, function(data, status){
    if (status === kakao.maps.services.Status.OK && data && data.length){
      const uniq = {}; data.forEach(p => { const k=p.id||(p.x+','+p.y); if(!uniq[k]) uniq[k]=p; });
      const places = Object.values(uniq);
      const ms = places.map(addPlaceMarker);
      clusterer.addMarkers(ms);
      emitStatus('✅ '+places.length+'개 장소를 찾았습니다');

      // 🔔 검색 요약을 Expo/부모로 보내기
      const c = map.getCenter();
      postOutbound({ type:'SEARCH_DONE', keyword: kw, count: places.length,
                     radius: radius||1000, center:{ lat:c.getLat(), lng:c.getLng() }});
    } else {
      emitStatus('⚠️ 결과 없음 / status='+status);
      const c = map.getCenter();
      postOutbound({ type:'SEARCH_DONE', keyword: kw, count: 0,
                     radius: radius||1000, center:{ lat:c.getLat(), lng:c.getLng() }});
    }
  }, { location: center, radius: radius||1000 });
}
